!function(e){var n={};function t(c){if(n[c])return n[c].exports;var l=n[c]={i:c,l:!1,exports:{}};return e[c].call(l.exports,l,l.exports,t),l.l=!0,l.exports}t.m=e,t.c=n,t.d=function(e,n,c){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:c})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var c=Object.create(null);if(t.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var l in e)t.d(c,l,function(n){return e[n]}.bind(null,l));return c},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval("// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./public/game/map.js\nfunction generateMap(layout){\n    const board = document.querySelector('.board')\n    layout.forEach(row => {\n        const boardRow = document.createElement('div')\n        boardRow.classList.add('board-row')\n        row.forEach(col => {\n            const el = document.createElement('div')\n            el.classList.add('col')\n            console.log(col.state)\n            if(col.state === 'obstacle') {el.classList.add('obstacle')}\n            el.setAttribute('data-state', col.state)\n            el.setAttribute('data-x', col.x)\n            el.setAttribute('data-y', col.y)\n            boardRow.appendChild(el)\n        })\n        board.appendChild(boardRow)\n    });\n}\n  \n\n// CONCATENATED MODULE: ./public/main.js\n\n\n// chat\n\nconst socket = io();\nconst main_form = document.querySelector('form');\nconst chatInput = document.querySelector('#chat-input')\nconst messages = document.querySelector('#messages')\nmain_form.addEventListener('submit', (e) => {\n    e.preventDefault();\n    socket.emit('message', {\n        input: chatInput.value, \n        gameID: document.querySelector('body').classList[0]})\n    chatInput.value = ''\n    return false\n})\n\nsocket.on('message', (msg) => {\n    messages.insertAdjacentHTML('beforeend', `<li>${msg}</li>`)\n})\n\n// Player\n\nlet Player = function(name, type){\n    this.name = name;\n    this.type = type;\n    this.currentTurn = true;\n    this.movesPlayed = 0;\n}\n\n// Game starter\nconst home = document.querySelector('.home')\nconst createGame = document.querySelector('.create h2')\nconst joinGame = document.querySelector('.join h2')\n\nconst createGameName = document.querySelector('.create input')\nconst joinGameName = document.querySelector('.join input[type=\"text\"]')\nconst joinGameNumber = document.querySelector('.join input[type=\"number\"]')\n\ncreateGame.addEventListener('click', () => {\n    if (!createGameName.value) { alert('please use a username'); return;}\n    socket.emit('createGame', {name: createGameName.value})\n    // player = new Player('test', P1)\n})\n\njoinGame.addEventListener('click', () => {\n    if (!joinGameName.value) { alert('please use a username'); return;}\n    if (!joinGameNumber.value) { alert('please fill in a game number'); return;}\n    socket.emit('joinGame', {name: joinGameName.value, room: joinGameNumber.value});\n    // player = new Player(name, P2)\n})\n\nsocket.on('player-connect', (player) => {\n    console.log(`Player ${player} Disconnected`)\n})\n\nsocket.on('createGame', (data) => {\n   removeOverlay()\n   messages.insertAdjacentHTML('beforeend', `<li>${data.username}, please invite your friend to game number ${data.game}</li>`)\n})\n\nsocket.on('joinGame', () => {\n    removeOverlay()\n})\n\nsocket.on('startGame', (data) => {\n    messages.insertAdjacentHTML('beforeend', `<li>Welcome ${data.username} and ${data.opponent} to game number ${data.game}, enjoy the fight!</li>`)\n    document.querySelector('body').classList.add(data.game)\n    generateMap(data.mapLayout)\n})\n\nsocket.on('fullServer', () => {\n    console.log('full-server')\n    document.querySelector('.error').textContent = 'Sorry, this game is full'\n}) \n\nfunction removeOverlay() {\n    home.classList.add('prefade')\n   setTimeout(() => {\n    home.classList.add('fade')\n    setTimeout(() => {\n        home.classList.add('hide')\n    }, 500);\n   }, 300);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wdWJsaWMvZ2FtZS9tYXAuanM/MTMzMiIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvbWFpbi5qcz85MmIyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7Ozs7QUNqQjREOztBQUU1RDs7QUFFQTtBQUNBLE1BQU0sU0FBSTtBQUNWO0FBQ0E7QUFDQSxTQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsNERBQTREO0FBQzVEO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0Esb0RBQW9ELElBQUk7QUFDeEQsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0NBQWdDLGdDQUFnQztBQUNoRSwrQkFBK0IsMkJBQTJCO0FBQzFEO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBLDhCQUE4QixnQ0FBZ0M7QUFDOUQsZ0NBQWdDLHVDQUF1QztBQUN2RSw2QkFBNkIscURBQXFEO0FBQ2xGO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBLDBCQUEwQixPQUFPO0FBQ2pDLENBQUM7O0FBRUQ7QUFDQTtBQUNBLG1EQUFtRCxjQUFjLDZDQUE2QyxVQUFVO0FBQ3hILENBQUM7O0FBRUQ7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSw0REFBNEQsY0FBYyxPQUFPLGNBQWMsa0JBQWtCLFVBQVU7QUFDM0g7QUFDQSxJQUFJLFdBQVc7QUFDZixDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSiIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gZ2VuZXJhdGVNYXAobGF5b3V0KXtcbiAgICBjb25zdCBib2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ib2FyZCcpXG4gICAgbGF5b3V0LmZvckVhY2gocm93ID0+IHtcbiAgICAgICAgY29uc3QgYm9hcmRSb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICBib2FyZFJvdy5jbGFzc0xpc3QuYWRkKCdib2FyZC1yb3cnKVxuICAgICAgICByb3cuZm9yRWFjaChjb2wgPT4ge1xuICAgICAgICAgICAgY29uc3QgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCgnY29sJylcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNvbC5zdGF0ZSlcbiAgICAgICAgICAgIGlmKGNvbC5zdGF0ZSA9PT0gJ29ic3RhY2xlJykge2VsLmNsYXNzTGlzdC5hZGQoJ29ic3RhY2xlJyl9XG4gICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3RhdGUnLCBjb2wuc3RhdGUpXG4gICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2RhdGEteCcsIGNvbC54KVxuICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdkYXRhLXknLCBjb2wueSlcbiAgICAgICAgICAgIGJvYXJkUm93LmFwcGVuZENoaWxkKGVsKVxuICAgICAgICB9KVxuICAgICAgICBib2FyZC5hcHBlbmRDaGlsZChib2FyZFJvdylcbiAgICB9KTtcbn1cbiAgXG5leHBvcnQge2dlbmVyYXRlTWFwfSIsImltcG9ydCB7Z2VuZXJhdGVPYnN0YWNsZXMsIGdlbmVyYXRlTWFwfSBmcm9tICcuL2dhbWUvbWFwLmpzJ1xuXG4vLyBjaGF0XG5cbmNvbnN0IHNvY2tldCA9IGlvKCk7XG5jb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybScpO1xuY29uc3QgY2hhdElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NoYXQtaW5wdXQnKVxuY29uc3QgbWVzc2FnZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWVzc2FnZXMnKVxuZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBzb2NrZXQuZW1pdCgnbWVzc2FnZScsIHtcbiAgICAgICAgaW5wdXQ6IGNoYXRJbnB1dC52YWx1ZSwgXG4gICAgICAgIGdhbWVJRDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpLmNsYXNzTGlzdFswXX0pXG4gICAgY2hhdElucHV0LnZhbHVlID0gJydcbiAgICByZXR1cm4gZmFsc2Vcbn0pXG5cbnNvY2tldC5vbignbWVzc2FnZScsIChtc2cpID0+IHtcbiAgICBtZXNzYWdlcy5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGA8bGk+JHttc2d9PC9saT5gKVxufSlcblxuLy8gUGxheWVyXG5cbmxldCBQbGF5ZXIgPSBmdW5jdGlvbihuYW1lLCB0eXBlKXtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgdGhpcy5jdXJyZW50VHVybiA9IHRydWU7XG4gICAgdGhpcy5tb3Zlc1BsYXllZCA9IDA7XG59XG5cbi8vIEdhbWUgc3RhcnRlclxuY29uc3QgaG9tZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ob21lJylcbmNvbnN0IGNyZWF0ZUdhbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY3JlYXRlIGgyJylcbmNvbnN0IGpvaW5HYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpvaW4gaDInKVxuXG5jb25zdCBjcmVhdGVHYW1lTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jcmVhdGUgaW5wdXQnKVxuY29uc3Qgam9pbkdhbWVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpvaW4gaW5wdXRbdHlwZT1cInRleHRcIl0nKVxuY29uc3Qgam9pbkdhbWVOdW1iZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuam9pbiBpbnB1dFt0eXBlPVwibnVtYmVyXCJdJylcblxuY3JlYXRlR2FtZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBpZiAoIWNyZWF0ZUdhbWVOYW1lLnZhbHVlKSB7IGFsZXJ0KCdwbGVhc2UgdXNlIGEgdXNlcm5hbWUnKTsgcmV0dXJuO31cbiAgICBzb2NrZXQuZW1pdCgnY3JlYXRlR2FtZScsIHtuYW1lOiBjcmVhdGVHYW1lTmFtZS52YWx1ZX0pXG4gICAgLy8gcGxheWVyID0gbmV3IFBsYXllcigndGVzdCcsIFAxKVxufSlcblxuam9pbkdhbWUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgaWYgKCFqb2luR2FtZU5hbWUudmFsdWUpIHsgYWxlcnQoJ3BsZWFzZSB1c2UgYSB1c2VybmFtZScpOyByZXR1cm47fVxuICAgIGlmICgham9pbkdhbWVOdW1iZXIudmFsdWUpIHsgYWxlcnQoJ3BsZWFzZSBmaWxsIGluIGEgZ2FtZSBudW1iZXInKTsgcmV0dXJuO31cbiAgICBzb2NrZXQuZW1pdCgnam9pbkdhbWUnLCB7bmFtZTogam9pbkdhbWVOYW1lLnZhbHVlLCByb29tOiBqb2luR2FtZU51bWJlci52YWx1ZX0pO1xuICAgIC8vIHBsYXllciA9IG5ldyBQbGF5ZXIobmFtZSwgUDIpXG59KVxuXG5zb2NrZXQub24oJ3BsYXllci1jb25uZWN0JywgKHBsYXllcikgPT4ge1xuICAgIGNvbnNvbGUubG9nKGBQbGF5ZXIgJHtwbGF5ZXJ9IERpc2Nvbm5lY3RlZGApXG59KVxuXG5zb2NrZXQub24oJ2NyZWF0ZUdhbWUnLCAoZGF0YSkgPT4ge1xuICAgcmVtb3ZlT3ZlcmxheSgpXG4gICBtZXNzYWdlcy5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGA8bGk+JHtkYXRhLnVzZXJuYW1lfSwgcGxlYXNlIGludml0ZSB5b3VyIGZyaWVuZCB0byBnYW1lIG51bWJlciAke2RhdGEuZ2FtZX08L2xpPmApXG59KVxuXG5zb2NrZXQub24oJ2pvaW5HYW1lJywgKCkgPT4ge1xuICAgIHJlbW92ZU92ZXJsYXkoKVxufSlcblxuc29ja2V0Lm9uKCdzdGFydEdhbWUnLCAoZGF0YSkgPT4ge1xuICAgIG1lc3NhZ2VzLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgYDxsaT5XZWxjb21lICR7ZGF0YS51c2VybmFtZX0gYW5kICR7ZGF0YS5vcHBvbmVudH0gdG8gZ2FtZSBudW1iZXIgJHtkYXRhLmdhbWV9LCBlbmpveSB0aGUgZmlnaHQhPC9saT5gKVxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKS5jbGFzc0xpc3QuYWRkKGRhdGEuZ2FtZSlcbiAgICBnZW5lcmF0ZU1hcChkYXRhLm1hcExheW91dClcbn0pXG5cbnNvY2tldC5vbignZnVsbFNlcnZlcicsICgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnZnVsbC1zZXJ2ZXInKVxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lcnJvcicpLnRleHRDb250ZW50ID0gJ1NvcnJ5LCB0aGlzIGdhbWUgaXMgZnVsbCdcbn0pIFxuXG5mdW5jdGlvbiByZW1vdmVPdmVybGF5KCkge1xuICAgIGhvbWUuY2xhc3NMaXN0LmFkZCgncHJlZmFkZScpXG4gICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBob21lLmNsYXNzTGlzdC5hZGQoJ2ZhZGUnKVxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBob21lLmNsYXNzTGlzdC5hZGQoJ2hpZGUnKVxuICAgIH0sIDUwMCk7XG4gICB9LCAzMDApO1xufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n")}]);