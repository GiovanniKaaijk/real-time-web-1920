!function(e){var n={};function t(l){if(n[l])return n[l].exports;var c=n[l]={i:l,l:!1,exports:{}};return e[l].call(c.exports,c,c.exports,t),c.l=!0,c.exports}t.m=e,t.c=n,t.d=function(e,n,l){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:l})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(t.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var c in e)t.d(l,c,function(n){return e[n]}.bind(null,c));return l},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval("// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./public/game/map.js\nfunction generateMap(layout){\n    const board = document.querySelector('.board')\n    layout.forEach(row => {\n        const boardRow = document.createElement('div')\n        boardRow.classList.add('board-row')\n        row.forEach(col => {\n            const el = document.createElement('div')\n            el.classList.add('col')\n            console.log(col.state)\n            if(col.state === 'obstacle') {el.classList.add('obstacle')}\n            el.setAttribute('data-state', col.state)\n            el.setAttribute('data-x', col.x)\n            el.setAttribute('data-y', col.y)\n            boardRow.appendChild(el)\n        })\n        board.appendChild(boardRow)\n    });\n}\n  \n\n// CONCATENATED MODULE: ./public/main.js\n\n\n// chat\n\nconst socket = io();\nconst main_form = document.querySelector('form');\nconst chatInput = document.querySelector('#chat-input')\nconst messages = document.querySelector('#messages')\nmain_form.addEventListener('submit', (e) => {\n    e.preventDefault();\n    socket.emit('message', {\n        input: chatInput.value, \n        gameID: document.querySelector('body').classList[0]})\n    chatInput.value = ''\n    return false\n})\n\nsocket.on('message', (msg) => {\n    messages.insertAdjacentHTML('beforeend', `<li>${msg}</li>`)\n})\n\n// Player\n\nlet Player = function(name, type){\n    this.name = name;\n    this.type = type;\n    this.currentTurn = true;\n    this.movesPlayed = 0;\n}\n\n// Game starter\nconst home = document.querySelector('.home')\nconst createGame = document.querySelector('.create h2')\nconst joinGame = document.querySelector('.join h2')\n\nconst createGameName = document.querySelector('.create input')\nconst joinGameName = document.querySelector('.join input[type=\"text\"]')\nconst joinGameNumber = document.querySelector('.join input[type=\"number\"]')\n\ncreateGame.addEventListener('click', () => {\n    if (!createGameName.value) { alert('please use a username'); return;}\n    socket.emit('createGame', {name: createGameName.value})\n    // player = new Player('test', P1)\n})\n\njoinGame.addEventListener('click', () => {\n    if (!joinGameName.value) { alert('please use a username'); return;}\n    if (!joinGameNumber.value) { alert('please fill in a game number'); return;}\n    socket.emit('joinGame', {name: joinGameName.value, room: joinGameNumber.value});\n    // player = new Player(name, P2)\n})\n\nsocket.on('player-connect', (player) => {\n    console.log(`Player ${player} Disconnected`)\n})\n\nsocket.on('createGame', (data) => {\n   home.classList.add('fade')\n   messages.insertAdjacentHTML('beforeend', `<li>${data.username}, please invite your friend to game number ${data.game}</li>`)\n})\n\nsocket.on('joinGame', () => {\n    home.classList.add('fade')\n})\n\nsocket.on('startGame', (data) => {\n    messages.insertAdjacentHTML('beforeend', `<li>Welcome ${data.username} and ${data.opponent} to game number ${data.game}, enjoy the fight!</li>`)\n    document.querySelector('body').classList.add(data.game)\n    generateMap(data.mapLayout)\n})\n\nsocket.on('fullServer', () => {\n    console.log('full-server')\n    document.querySelector('.error').textContent = 'Sorry, this game is full'\n}) //# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wdWJsaWMvZ2FtZS9tYXAuanM/MTMzMiIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvbWFpbi5qcz85MmIyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7Ozs7QUNqQjREOztBQUU1RDs7QUFFQTtBQUNBLE1BQU0sU0FBSTtBQUNWO0FBQ0E7QUFDQSxTQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsNERBQTREO0FBQzVEO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0Esb0RBQW9ELElBQUk7QUFDeEQsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0NBQWdDLGdDQUFnQztBQUNoRSwrQkFBK0IsMkJBQTJCO0FBQzFEO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBLDhCQUE4QixnQ0FBZ0M7QUFDOUQsZ0NBQWdDLHVDQUF1QztBQUN2RSw2QkFBNkIscURBQXFEO0FBQ2xGO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBLDBCQUEwQixPQUFPO0FBQ2pDLENBQUM7O0FBRUQ7QUFDQTtBQUNBLG1EQUFtRCxjQUFjLDZDQUE2QyxVQUFVO0FBQ3hILENBQUM7O0FBRUQ7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSw0REFBNEQsY0FBYyxPQUFPLGNBQWMsa0JBQWtCLFVBQVU7QUFDM0g7QUFDQSxJQUFJLFdBQVc7QUFDZixDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBLENBQUMiLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGdlbmVyYXRlTWFwKGxheW91dCl7XG4gICAgY29uc3QgYm9hcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYm9hcmQnKVxuICAgIGxheW91dC5mb3JFYWNoKHJvdyA9PiB7XG4gICAgICAgIGNvbnN0IGJvYXJkUm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgYm9hcmRSb3cuY2xhc3NMaXN0LmFkZCgnYm9hcmQtcm93JylcbiAgICAgICAgcm93LmZvckVhY2goY29sID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ2NvbCcpXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjb2wuc3RhdGUpXG4gICAgICAgICAgICBpZihjb2wuc3RhdGUgPT09ICdvYnN0YWNsZScpIHtlbC5jbGFzc0xpc3QuYWRkKCdvYnN0YWNsZScpfVxuICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdkYXRhLXN0YXRlJywgY29sLnN0YXRlKVxuICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdkYXRhLXgnLCBjb2wueClcbiAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZSgnZGF0YS15JywgY29sLnkpXG4gICAgICAgICAgICBib2FyZFJvdy5hcHBlbmRDaGlsZChlbClcbiAgICAgICAgfSlcbiAgICAgICAgYm9hcmQuYXBwZW5kQ2hpbGQoYm9hcmRSb3cpXG4gICAgfSk7XG59XG4gIFxuZXhwb3J0IHtnZW5lcmF0ZU1hcH0iLCJpbXBvcnQge2dlbmVyYXRlT2JzdGFjbGVzLCBnZW5lcmF0ZU1hcH0gZnJvbSAnLi9nYW1lL21hcC5qcydcblxuLy8gY2hhdFxuXG5jb25zdCBzb2NrZXQgPSBpbygpO1xuY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm0nKTtcbmNvbnN0IGNoYXRJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjaGF0LWlucHV0JylcbmNvbnN0IG1lc3NhZ2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21lc3NhZ2VzJylcbmZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgc29ja2V0LmVtaXQoJ21lc3NhZ2UnLCB7XG4gICAgICAgIGlucHV0OiBjaGF0SW5wdXQudmFsdWUsIFxuICAgICAgICBnYW1lSUQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKS5jbGFzc0xpc3RbMF19KVxuICAgIGNoYXRJbnB1dC52YWx1ZSA9ICcnXG4gICAgcmV0dXJuIGZhbHNlXG59KVxuXG5zb2NrZXQub24oJ21lc3NhZ2UnLCAobXNnKSA9PiB7XG4gICAgbWVzc2FnZXMuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCBgPGxpPiR7bXNnfTwvbGk+YClcbn0pXG5cbi8vIFBsYXllclxuXG5sZXQgUGxheWVyID0gZnVuY3Rpb24obmFtZSwgdHlwZSl7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIHRoaXMuY3VycmVudFR1cm4gPSB0cnVlO1xuICAgIHRoaXMubW92ZXNQbGF5ZWQgPSAwO1xufVxuXG4vLyBHYW1lIHN0YXJ0ZXJcbmNvbnN0IGhvbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaG9tZScpXG5jb25zdCBjcmVhdGVHYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNyZWF0ZSBoMicpXG5jb25zdCBqb2luR2FtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qb2luIGgyJylcblxuY29uc3QgY3JlYXRlR2FtZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY3JlYXRlIGlucHV0JylcbmNvbnN0IGpvaW5HYW1lTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qb2luIGlucHV0W3R5cGU9XCJ0ZXh0XCJdJylcbmNvbnN0IGpvaW5HYW1lTnVtYmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpvaW4gaW5wdXRbdHlwZT1cIm51bWJlclwiXScpXG5cbmNyZWF0ZUdhbWUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgaWYgKCFjcmVhdGVHYW1lTmFtZS52YWx1ZSkgeyBhbGVydCgncGxlYXNlIHVzZSBhIHVzZXJuYW1lJyk7IHJldHVybjt9XG4gICAgc29ja2V0LmVtaXQoJ2NyZWF0ZUdhbWUnLCB7bmFtZTogY3JlYXRlR2FtZU5hbWUudmFsdWV9KVxuICAgIC8vIHBsYXllciA9IG5ldyBQbGF5ZXIoJ3Rlc3QnLCBQMSlcbn0pXG5cbmpvaW5HYW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGlmICgham9pbkdhbWVOYW1lLnZhbHVlKSB7IGFsZXJ0KCdwbGVhc2UgdXNlIGEgdXNlcm5hbWUnKTsgcmV0dXJuO31cbiAgICBpZiAoIWpvaW5HYW1lTnVtYmVyLnZhbHVlKSB7IGFsZXJ0KCdwbGVhc2UgZmlsbCBpbiBhIGdhbWUgbnVtYmVyJyk7IHJldHVybjt9XG4gICAgc29ja2V0LmVtaXQoJ2pvaW5HYW1lJywge25hbWU6IGpvaW5HYW1lTmFtZS52YWx1ZSwgcm9vbTogam9pbkdhbWVOdW1iZXIudmFsdWV9KTtcbiAgICAvLyBwbGF5ZXIgPSBuZXcgUGxheWVyKG5hbWUsIFAyKVxufSlcblxuc29ja2V0Lm9uKCdwbGF5ZXItY29ubmVjdCcsIChwbGF5ZXIpID0+IHtcbiAgICBjb25zb2xlLmxvZyhgUGxheWVyICR7cGxheWVyfSBEaXNjb25uZWN0ZWRgKVxufSlcblxuc29ja2V0Lm9uKCdjcmVhdGVHYW1lJywgKGRhdGEpID0+IHtcbiAgIGhvbWUuY2xhc3NMaXN0LmFkZCgnZmFkZScpXG4gICBtZXNzYWdlcy5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGA8bGk+JHtkYXRhLnVzZXJuYW1lfSwgcGxlYXNlIGludml0ZSB5b3VyIGZyaWVuZCB0byBnYW1lIG51bWJlciAke2RhdGEuZ2FtZX08L2xpPmApXG59KVxuXG5zb2NrZXQub24oJ2pvaW5HYW1lJywgKCkgPT4ge1xuICAgIGhvbWUuY2xhc3NMaXN0LmFkZCgnZmFkZScpXG59KVxuXG5zb2NrZXQub24oJ3N0YXJ0R2FtZScsIChkYXRhKSA9PiB7XG4gICAgbWVzc2FnZXMuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCBgPGxpPldlbGNvbWUgJHtkYXRhLnVzZXJuYW1lfSBhbmQgJHtkYXRhLm9wcG9uZW50fSB0byBnYW1lIG51bWJlciAke2RhdGEuZ2FtZX0sIGVuam95IHRoZSBmaWdodCE8L2xpPmApXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpLmNsYXNzTGlzdC5hZGQoZGF0YS5nYW1lKVxuICAgIGdlbmVyYXRlTWFwKGRhdGEubWFwTGF5b3V0KVxufSlcblxuc29ja2V0Lm9uKCdmdWxsU2VydmVyJywgKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdmdWxsLXNlcnZlcicpXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVycm9yJykudGV4dENvbnRlbnQgPSAnU29ycnksIHRoaXMgZ2FtZSBpcyBmdWxsJ1xufSkgIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n")}]);